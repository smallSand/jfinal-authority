angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",["$q","$http",function(r,e){return function(i){if(!i||!(angular.isArray(i.files)||angular.isString(i.prefix)&&angular.isString(i.suffix)))throw new Error("Couldn't load static files, no files and prefix or suffix specified!");i.files||(i.files=[{prefix:i.prefix,suffix:i.suffix}]);for(var f=function(f){if(!f||!angular.isString(f.prefix)||!angular.isString(f.suffix))throw new Error("Couldn't load static file, no prefix or suffix specified!");var n=r.defer();return e(angular.extend({url:[f.prefix,i.key,f.suffix].join(""),method:"GET",params:""},i.$http)).success(function(r){n.resolve(r)}).error(function(){n.reject(i.key)}),n.promise},n=r.defer(),t=[],s=i.files.length,a=0;s>a;a++)t.push(f({prefix:i.files[a].prefix,key:i.key,suffix:i.files[a].suffix}));return r.all(t).then(function(r){for(var e=r.length,i={},f=0;e>f;f++)for(var t in r[f])i[t]=r[f][t];n.resolve(i)},function(r){n.reject(r)}),n.promise}}]);